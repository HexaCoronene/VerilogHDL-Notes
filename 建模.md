# 数据流建模

## 连续赋值语句

- 连续赋值的目标类型主要是标量线网和向量线网两种

1. 标量线网
2. 向量线网

- 显式连续赋值语句（推荐）

- 隐式连续赋值语句

- 连续赋值语句需注意

1. 赋值语句只能是 `wire` 类型
2. 在连续赋值中，只要赋值语句右边任何一个变量有变化，表达式立即被计算，计算的结果立即赋给左边信号（若没有定义延迟量）【描述了组合电路的特点】
3. 连续赋值语句不能出现在过程块中
4. 多个连续赋值语句之间是并行语句，与位置无关【后期主要编写并行电路】
5. 连续赋值语句的延迟具有硬件电路中惯性延迟的特性，任何小于

# 行为级建模

## 语句

- 过程语句
	1. `initial`
	2. `always`  【√】
- 语句块
	1. 串行语句块`begin-end`  【√】
	2. 并行语句块`fork-join`
- 赋值语句
	1. 过程连续赋值`assign`
	2. 过程阻塞赋值`=`、过程非阻塞赋值`<= ` 【√】
- 条件语句
	1. `if-else`  【√】
	2. `case、casez、casex`  【√】
- 循环语句
	1. `forever`
	2. `repeat`

_电路主要靠【√】语句完成_

### `initial`

initial 主要用于仿真和测试间，产生测试向量，对信号的初始量赋值
其余的应使用复位信号

### `always`

`always @( list )`
敏感事件表为触发条件
在敏感事件表中不存在 and 概念

- 电平触发
- 边沿触发
	1. `posedge`
	2. `negedge`

_注意事项_
1. 对组合电路进行描述时，作为全部的输入信号需要列入敏感信号列表
2. 对时序电路进行描述时，需要把时间信号和部分输入信号列入敏感信号列表

- 同步清零（略去中间代码）
```verilog
always @(posedge clk)
begin
	...
end
```

- 异步清零（略去中间代码）
```verilog
always @(posedge clk or negedge clear)
begin
	...
end
```

FPGA已经不存在异步清零信号，已被同步清零替代

如今集成电路的 CLK 非常快，与按下复位键的时间相差五六个数量级，不存在识别不出的情况

为了节省电路面积，现在均采用同步清零（复位）设计
异步的语法特性、电路均在逐渐消失

**总之：写同步的，因为简单**

### 条件分支语句

`if-else`语句，此处类比C语言

`case`语句
```verilog
case(...)
	case1:...
	case2:...
	default:...
endcase
```
_注意_
1. 如果某几个连续排列是值项执行的是同一条语句，则这几个值项间可用逗号相隔，将语句放在冒号后
2. `case`语句的所有表达式的位宽必须相等，只有这样控制表达式和分支表达式才能进行位的比较
3. 在使用`case`语句时，应包含所有状态，如果没包含全，那么缺省项必须写，否则将产生锁存器，这在同步时序电路设计中是不允许的

#### `forever`语句

永久循环，不包含任何条件表达式，只执行无限循环，直到遇到系统任务`$finish`为止。如果需要从`forever`循环退出，则可以使用`disable`语句

#### `for`循环语句

**！在硬件中没有意义**

应该说明的是循环语句也可以用于可综合电路的设计，当采用循环语句进行计算和赋值的描述时，可以综合得到逻辑电路

# 结构化建模

硬件设计语言70%以上的代码是结构型描述

主要考察设计者的仔细程度